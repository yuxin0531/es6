<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 数组实例的 find() 和 findIndex()
        // !!!数组实例的find方法，用于找出第一个符合条件的数组成员。它的参数是一个回调函数，只返回第一个符合条件的
        // 所有数组成员依次执行该回调函数，直到找出第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。
        // console.log([1, 4, -5, -3].find((n) => n < 0));//-5
        // // 上面代码找出数组中第一个小于 0 的成员。
        // const num = [1, 5, 10, 15].find(function (value, index, arr) {
        //     console.log(value);// 1 5 10 找到符合条件的就停止遍历
        //     console.log(index);//0 1 2 找到符合条件的就停止遍历
        //     console.log(arr);// [1,5,10,15] [1,5,10,15] [1,5,10,15] 找到符合条件的就停止遍历
        //     return value > 9;
        // })
        // console.log(num);//10
        // // 上面代码中，find方法的回调函数可以接受三个参数，依次为当前的值、当前的位置和原数组。


        // // 数组实例的findIndex方法的用法与find方法非常类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。
        // //find和findIndex不同的就是find返回第一个符合条件的数组成员,没有符合返回undefined,findIndex返回第一个符合条件的索引,没有符合返回-1
        // const index = [1, 5, 10, 15].findIndex(function (value, index, arr) {
        //     return value > 9;
        // })
        // console.log(index);//2

        // find和findIndex这两个方法都可以接受第二个参数，用来绑定回调函数的this对象。
        // function f(v) {
        //     return v > this.age;
        // }
        // let person = { name: 'John', age: 20 };
        // console.log([10, 12, 26, 15].find(f, person)); //26
        // 上面的代码中，find函数接收了第二个参数person对象，回调函数中的this对象指向person对象。

        // 另外，这两个方法都可以发现NaN，弥补了数组的indexOf方法的不足。
        console.log([NaN].indexOf(NaN));//-1
        console.log([1,NaN].findIndex(y=>{
            console.log(y);//NaN
           return Object.is(NaN,y)
        }));//1
        console.log([1,NaN].find(y=>Object.is(NaN,y)));//NaN
        // Object.is() 方法判断两个值是否是相同的值。
        // 语法:Object.is(value1, value2);
        // value1 第一个需要比较的值。
        // value2 第二个需要比较的值
        // 返回值: 表示两个参数是否相同的布尔值 。
        // 参考:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is 
        // 上面代码中，indexOf方法无法识别数组的NaN成员，但是findIndex方法可以借助Object.is方法做到。
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 替代函数的 apply 方法
        // 由于扩展运算符可以展开数组，所以不再需要apply方法，将数组转为函数的参数了。
        // 1!!!!apply() 方法调用一个具有给定this值的函数，以及作为一个数组（或类似数组对象）提供的
        // 因为其接受的是一个数组参数,所有可以用来把数组解析出来传入函数中做处理
        // f.apply(null,args);不改变函数的this指向,把数组当做参数传进函数
        // ES5的写法
        function f(x,y,z){
           console.log(x+y+z);//3
           
        }
        var args = [0,1,2];
        f.apply(null,args);

        //ES6写法
        function f(a,x,y,z){
            console.log(a+x+y+z);//6
        }
        let args = [0,1,2,3];
        f(...args);



        // 下面是扩展运算符取代apply方法的一个实际的例子，应用Math.max方法，简化求出一个数组最大元素的写法。
        // ES5的写法
        console.log(Math.max.apply(null,[14,3,77]));//77

        //ES6的写法
        console.log(Math.max(...[16,88,1]));
        //等同于
        console.log(Math.max(16,88,1));
        // 上面代码中，由于 JavaScript 不提供求数组最大元素的函数，所以只能套用Math.max函数，将数组转为一个参数序列，
        // 然后求最大值。有了扩展运算符以后，就可以直接用Math.max了。
        
        // 另一个例子是通过push函数，将一个数组添加到另一个数组的尾部。
        //ES5的写法
        var arr1 = [0,1,2];
        var arr2 = [3,4,5];
        Array.prototype.push.apply(arr1,arr2);
        console.log(arr1);
        

        //ES6的写法
        let arr1 = [0,1,2];
        let arr2 = [3,4,5];
        arr1.push(...arr2)
        console.log(arr1);
        // 上面代码是ES5写法中,push方法的参数不能是数组,所有只好通过apply方法变通使用puh方法.有了扩展运算符,就可以直接将数组传入push.
        
        // 下面是另外一个例子。
        //ES5
        console.log(new (Date.bind.apply(Date,[null,2015,1,1])));//不懂 Sun Feb 01 2015 00:00:00 GMT+0800 (中国标准时间)
        // ES6
        console.log(new Date(...[2015,1,1]));//Sun Feb 01 2015 00:00:00 GMT+0800 (中国标准时间)
        
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。
        // reduce() 可以作为一个高阶函数，用于函数的 compose。
        // 注意: reduce() 对于空数组是不会执行回调函数的。
        // 语法:array.reduce(function(total, currentValue, currentIndex, arr), initialValue)
        // total必须 初始值, 或者计算结束后的返回值。
        // currentValue必需 当前元素 currentIndex可选 当前元素的索引
        // arr可选 当前元素所属的数组对象。
        // initialValue 可选。传递给函数的初始值,如果不给初始值,其为将数组的第一个元素作为初始值也就是total
        // 计算数组元素相加后的总和：
        var numbers = [65, 44, 12, 4];

        function getSum(total, num) {
            return total + num;
        }
        function myFunction(item) {
            document.getElementById("demo").innerHTML = numbers.reduce(getSum);
        }
        // 结果:125

        var numbers = [15.5, 2.3, 1.1, 4.7];

        function getSum(total, num) {//total初始值,如果不指定,将为数组的第一个数 遍历出num数组的每一项(可以做任何处理不止可以累加,例如累成也可以)
            return total + Math.round(num);//Math.round(num)四舍五入,16,2,1,5
        }
        function myFunction(item) {
            document.getElementById("demo").innerHTML = numbers.reduce(getSum, 0);
        }
        // 结果:24

        function myFunction(item) {
            document.getElementById("demo").innerHTML = numbers.reduce(getSum);
        }
        // 结果:23.5
        // 如果不给初始值,也就是reduce(getSum)后面的0,其将数组的第一个元素作为初始值也就是total,
        // 所以数组的第一个数是15.5做为初始值没有经过四舍五入,所以累加起来为23.5
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // some() 方法测试数组中是不是至少有1个元素通过了被提供的函数测试。它返回的是一个Boolean类型的值。
        // 注意：如果用一个空数组进行测试，在任何情况下它返回的都是false。
        // 有一个参数能够符合函数的要求就会返回true,空数组和没有一个符合就会是false
        // 语法 arr.some(callback(element[, index[, array]])[, thisArg])
        // 参数:
        // callback
        // 用来测试每个元素的函数，接受三个参数：
        // element
        // 数组中正在处理的元素。
        // index 可选
        // 数组中正在处理的元素的索引值。
        // array可选
        // some()被调用的数组。
        // thisArg可选
        // 执行 callback 时使用的 this 值。
        // 返回值:数组中有至少一个元素通过回调函数的测试就会返回true；所有元素都没有通过回调函数的测试返回值才会为false。
        // some() 被调用时不会改变数组。
        const array = [1, 2, 3, 4, 5];
        const even = (element) => element % 2 === 0;
        console.log(array.some(even));//true

        // 测试数组元素的值
        function isBiggerThan10(element, index, array) {
            return element > 10;
        }

        console.log([2, 5, 8, 1, 4].some(isBiggerThan10));//false
        console.log([12, 5, 8, 1, 4].some(isBiggerThan10));//true

        // 箭头函数 可以通过更简洁的语法实现相同的用例.
        [2, 5, 8, 1, 4].some(x => x > 10);  // false
        [12, 5, 8, 1, 4].some(x => x > 10); // true



        // 模仿 includes()  方法, 若元素在数组中存在, 则回调函数返回值为 true :
        var fruits = ['apple','banana','mango','guava'];
        function checkAvailavility(arr,val){
                return arr.some(function(arrVal){
                    return val === arrVal;
                });
        }
        checkAvailavility(fruits,'kela')//false
        checkAvailavility(fruits,'banana')//true
        // 箭头函数
        var fruits = ['apple','banner','mango','guava'];
        function checkAvailavility(arr,val){
            return arr.some(arrVal => val === arrVal);
        }
        checkAvailavility(fruits,'kela');// false
        checkAvailavility(fruits,'banana')// true


        // 将任意值转换为布尔类型
        var TRUTHY_VALUES = [true, 'true', 1];
        function getBoolean(value) {
            'use strict';
            if (typeof value === 'string') {
                value = value.toLowerCase().trim();
            }

            return TRUTHY_VALUES.some(function (t) {
                return t === value;
            })
        }
        console.log(getBoolean(false));//false
        console.log(getBoolean('false'));//false
        console.log(getBoolean(1));//true
        console.log(getBoolean('true'));//true
        // 参考链接:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some
    </script>
</body>

</html>